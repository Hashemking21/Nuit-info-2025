import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as f,a as L,b as M,e as m,h as r,f as w,t as _,o as h}from"./index-jDmhaFVX.js";const D={class:"snake-container"},E={class:"score-board"},O={key:0},U={class:"canvas-wrapper"},V={key:0,class:"overlay"},j={key:0},u=400,l=20,z=150,B={__name:"SnakeGame",setup(H){const y=u/l,k=f(null),c=f(0),d=f(localStorage.getItem("snakeHighScore")||0),v=f(!1),x=f(!1);let a=null,p=null,s=[],n={x:0,y:0},o={x:0,y:0},i={x:0,y:0};L(()=>{a=k.value.getContext("2d"),window.addEventListener("keydown",C),g(),A()}),M(()=>{window.removeEventListener("keydown",C),clearInterval(p)});const G=()=>{v.value||(g(),v.value=!0,x.value=!1,o={x:1,y:0},i={x:1,y:0},p=setInterval(I,z))},g=()=>{s=[{x:10,y:10},{x:9,y:10},{x:8,y:10}],c.value=0,o={x:0,y:0},S()},I=()=>{o={...i};const e={x:s[0].x+o.x,y:s[0].y+o.y};if(e.x<0||e.x>=y||e.y<0||e.y>=y){b();return}for(let t of s)if(e.x===t.x&&e.y===t.y){b();return}s.unshift(e),e.x===n.x&&e.y===n.y?(c.value+=10,S()):s.pop(),A()},S=()=>{let e=!1;for(;!e;)n={x:Math.floor(Math.random()*y),y:Math.floor(Math.random()*y)},e=!s.some(t=>t.x===n.x&&t.y===n.y)},b=()=>{v.value=!1,x.value=!0,clearInterval(p),c.value>d.value&&(d.value=c.value,localStorage.setItem("snakeHighScore",d.value))},A=()=>{a.fillStyle="#1a1a1a",a.fillRect(0,0,u,u),a.fillStyle="#ff4757",a.fillRect(n.x*l,n.y*l,l-2,l-2),a.fillStyle="#2ed573",s.forEach((e,t)=>{t===0?a.fillStyle="#7bed9f":a.fillStyle="#2ed573",a.fillRect(e.x*l,e.y*l,l-2,l-2)})},C=e=>{switch(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(e.code)>-1&&e.preventDefault(),e.key){case"ArrowLeft":o.x!==1&&(i={x:-1,y:0});break;case"ArrowRight":o.x!==-1&&(i={x:1,y:0});break;case"ArrowUp":o.y!==1&&(i={x:0,y:-1});break;case"ArrowDown":o.y!==-1&&(i={x:0,y:1});break}};return(e,t)=>(h(),m("div",D,[t[0]||(t[0]=r("h2",null,"Snake Game Vue.js",-1)),r("div",E,[r("span",null,"Score : "+_(c.value),1),d.value>0?(h(),m("span",O,"Record : "+_(d.value),1)):w("",!0)]),r("div",U,[r("canvas",{ref_key:"gameCanvas",ref:k,width:u,height:u},null,512),v.value?w("",!0):(h(),m("div",V,[x.value?(h(),m("h3",j,"Game Over!")):w("",!0),r("button",{onClick:G},_(x.value?"Rejouer":"Commencer"),1)]))]),t[1]||(t[1]=r("div",{class:"controls-hint"}," Utilisez les flèches du clavier pour jouer ⬆️⬇️⬅️➡️ ",-1))]))}},F=R(B,[["__scopeId","data-v-d65594c2"]]);export{F as default};
